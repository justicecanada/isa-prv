@model VmContest
@using Interview.UI.Models
@using Interview.UI.Helpers
@inject IViewLocalizer localizer

@{
    ViewBag.Title = localizer["Title"].Value;

    ViewBag.FieldOrder = new List<string>(new string[]
    {
        "NoProcessus", "GroupNiv", "StartDate", "EndDate", "MinTime", "MaxTime", "DeadlineInterviewer", "DeadlineCandidate", "ContactName",
        "ContactNumber", "InterviewDuration", "MembersIntroEN", "MembersIntroFR", "CandidatesIntroEN", "CandidatesIntroFR"
    }).Select(x => x.ToLower()).ToList();

    string contestId = ViewData["contestId"].ToString();
    string h3 = Model.Id == null ? localizer["AddProcess"].Value : localizer["EditProcess"].Value;

}

@{
    await Html.RenderPartialAsync("TopMenu");
}

<h3>
    <span class="text-primary">@h3</span>
</h3>

@Html.ActionLink(localizer["ManageEmails"].Value, "Index", "Emails", new { contestId = contestId }, new { @class = "btn btn-secondary" })

@{ await Html.RenderPartialAsync("ValidationSummary"); }

<form>

    @Html.AntiForgeryToken()

    @Html.HiddenFor(x => x.Id)

    <section class="panel panel-default mrgn-tp-md">

        <div class="panel-heading">
            <h3 class="panel-title">
                @localizer["h3GeneralInformation"]
            </h3>
        </div> 

        <div class="panel-body">

            <div class="row hide">
                <div class="col-md-12">
                    Placeholder for ddlDepartments...
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.NoProcessus, "Question", new { inputControl = Html.TextBoxFor(x => x.NoProcessus, new { @class = "form-control" }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.GroupNiv, "Question", new { inputControl = Html.TextBoxFor(x => x.GroupNiv, new { @class = "form-control" }) })
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.StartDate, "Question", new { inputControl = Html.JusDatePickerFor(x => x.StartDate, new { date = Model.StartDate }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.EndDate, "Question", new { inputControl = Html.JusDatePickerFor(x => x.EndDate, new { date = Model.EndDate }) })
                </div>
            </div>

            @*<div class="row">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.StartDate, "Question", new { inputControl = Html.TextBoxFor(x => x.StartDate, new { @class = "form-control", @type = "date", @value = Model.StartDate.ToString(Constants.DateFormat) }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.EndDate, "Question", new { inputControl = Html.TextBoxFor(x => x.EndDate, new { @class = "form-control", @type = "date" }) })
                </div>
            </div>*@

            <div class="row">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.MinTime, "Question", new { inputControl = Html.TextBoxFor(x => x.MinTime, new { @class = "form-control" }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.MaxTime, "Question", new { inputControl = Html.TextBoxFor(x => x.MaxTime, new { @class = "form-control" }) })
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.DeadlineInterviewer, "Question", new { inputControl = Html.TextBoxFor(x => x.DeadlineInterviewer, new { @class = "form-control" }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.DeadlineCandidate, "Question", new { inputControl = Html.TextBoxFor(x => x.DeadlineCandidate, new { @class = "form-control" }) })
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.ContactName, "Question", new { inputControl = Html.TextBoxFor(x => x.ContactName, new { @class = "form-control" }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.ContactNumber, "Question", new { inputControl = Html.TextBoxFor(x => x.ContactNumber, new { @class = "form-control" }) })
                </div>
            </div>

        </div>
    </section>

     <section class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
                @localizer["h3ManageTimeslot"]
            </h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-12">
                    @Html.EditorFor(x => x.InterviewDuration, "Question", new { inputControl = Html.TextBoxFor(x => x.InterviewDuration, new { @class = "form-control" }) })
                </div>
            </div>
            <div class="row mrgn-tp-lg">
                <div class="col-md-12">
                    <p>Put slider in this section...</p>
                </div>
            </div>
        </div>
    </section>

    <div class="panel panel-default mrgn-tp-md">
        <div class="panel-heading">
            <h3 class="panel-title">
                @localizer["h3MembersIntro"]
            </h3>
        </div>
        <div class="panel-body">
            <div class="row mrgn-tp-0">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.MembersIntroEN, "Question", new { inputControl = Html.TextBoxFor(x => x.MembersIntroEN, new { @class = "form-control" }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.MembersIntroFR, "Question", new { inputControl = Html.TextBoxFor(x => x.MembersIntroFR, new { @class = "form-control" }) })
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
            @localizer["h3CandidatesIntro"]
            </h3>
        </div>
        <div class="panel-body">
            <div class="row mrgn-tp-0">
                <div class="col-md-6">
                    @Html.EditorFor(x => x.CandidatesIntroEN, "Question", new { inputControl = Html.TextBoxFor(x => x.CandidatesIntroEN, new { @class = "form-control" }) })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(x => x.CandidatesIntroFR, "Question", new { inputControl = Html.TextBoxFor(x => x.CandidatesIntroFR, new { @class = "form-control" }) })
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3">

        <input type="submit" value="@localizer["Next"]" id="btnNext" class="btn btn-primary mr-2" formaction=@Url.Action("ContestNext", "Contests")
               formmethod="post" /> 
        <input type="submit" value="@localizer["Save"]" id="btnSave" class="btn btn-secondary" formaction=@Url.Action("ContestSave", "Contests")
               formmethod="post" />
        @Html.ActionLink(localizer["Cancel"].Value, "Index", "Contests", new { contestId = contestId }, new { @class = "btn btn-secondary" })

    </div>

</form>